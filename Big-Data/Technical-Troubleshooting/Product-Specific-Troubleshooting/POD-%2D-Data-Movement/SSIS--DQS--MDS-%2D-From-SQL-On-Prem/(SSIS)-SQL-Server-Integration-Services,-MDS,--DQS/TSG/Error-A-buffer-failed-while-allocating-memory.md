ERROR Example

Code: 0xC0202009     Source: TSA_RISK_FORM TSA_RISK_FORM [2]     Description: **SSIS Error Code DTS_E_OLEDBERROR**.  An OLE DB error has occurred. Error code: 0x80004005.  End Error  Error: 2021-04-19 03:06:39.77     Code: 0xC0047038     Source: TSA_RISK_FORM SSIS.Pipeline     Description: **SSIS Error Code DTS_E_PRIMEOUTPUTFAILED**.  The PrimeOutput method on TSA_RISK_FORM returned error code 0xC0202009.  The component returned a failure code when the pipeline engine called PrimeOutput(). The meaning of the failure code is defined by the component, but the error is fatal and the pipeline stopped executing.  There may be error messages posted before this with more information about the failure.  End Error  Error: 2021-04-19 03:14:30.37     Code: 0xC0047012     Source: TSA_SAFETY_FORM      Description: A buffer failed while allocating 20971520 bytes.  End Error  Error: 2021-04-19 03:14:30.37     Code: 0xC0047011     Source: TSA_SAFETY_FORM      Description: **The system reports 96 percent memory load.** There are 34359267328 bytes of physical memory with 1228210176 bytes free. There are 4294836224 bytes of virtual memory with 319508480 bytes free. The paging file has 39506100224 bytes with 5091622912 bytes free.  End Error  Error: 2021-04-19 03:14:30.38     Code: 0xC02020C4     Source: TSA_SAFETY_FORM TSA_SAFETY_FORM [129]     Description: **The attempt to add a row to the Data Flow task buffer failed with error code 0x8007000E**.  End Error  Error: 2021-04-19 03:14:30.38     Code: 0xC0047038     Source: TSA_SAFETY_FORM SSIS.Pipeline     Description: SSIS Error Code DTS_E_PRIMEOUTPUTFAILED.  The PrimeOutput method on TSA_SAFETY_FORM returned error code 0xC02020C4.  The component returned a failure code when the pipeline engine called PrimeOutput(). The meaning of the failure code is defined by the component, but the error is fatal and the pipeline stopped executing.  There may be error messages posted before this with more information about the failure.  End Error  DTExec: The package execution returned DTSER_FAILURE (1). 

**Troubleshooting**
1) Open your OLE DB connection Managers and modify the packet size which is a key network property. Modifying network packet size value on the OLE DB connection manager/visual studio to either increase or decrease the value (default is 4,096 bytes). Increasing the packet size will improve performance because fewer network read/write operations are required to transfer a large data set. With small data size read/writes, lowering the value will improve performance and minimize the network overhead. On the DWDownloadTrails file you sent to me the last time, this value is 0. To test, set the value 32767 and letâ€™s see how that works.

2) For the TSA_SAFETY_FORM or any other table that uses blobs, did you ensure that each of those data flow tasks has both BlobTempStoragePath and BufferTempStoragePath pointing to a fast drive? Please set the blob properties above to use a fast drive.

3) What values do you have for DefaultBufferMaxRows and DefaultBufferSize for those DFTs?

4) What is the current max server memory for that SQL server instance?

 